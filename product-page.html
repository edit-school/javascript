<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Page</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  
  <header>
    <nav class="navbar">
      <a class="logo" href="index.html">
        <img src="assets/edit-extended-logo.png" alt="">
      </a>
      <ul class="menu">
        <li class="menu__item">
          <h6>Seating</h6> 
          <div class="dropdown">
            <div class="row dropdown__megamenu">
              <div class="col-lg-2 dropdown__submenu">
                <h6>Shop by Category</h6>
                <a href="category-page.html">Sectionals</a>
                <a href="category-page.html">Sofas</a>
                <a href="category-page.html">Loveseats</a>
                <a href="category-page.html">Accent Chairs</a>
                <a href="category-page.html">Sleepers</a>
                <a href="category-page.html">Sleep Kits</a>
                <a href="category-page.html">Ottomans</a>
                <a href="category-page.html">Seating Accessories</a>
                <a href="category-page.html">All Seating</a>
              </div>
              <div class="col-lg-2 dropdown__submenu">
                <h6>Shop by Collection</h6>
                <a href="category-page.html">NOMAD Collection</a>
                <a href="category-page.html">Field Collection</a>
                <a href="category-page.html">Range Collection</a>
                <a href="category-page.html">Union Collection</a>
                <a href="category-page.html">NEW</a>
                <a href="category-page.html">Compare Collections</a>
              </div>
              <div class="col-lg-2 dropdown__submenu">
                <h6>Shop by Upholstery</h6>
                <a href="category-page.html">Performance Fabric Seating</a>
                <a href="category-page.html">Italian Leather Seating</a>
                <a href="category-page.html">Performance Velvet Seating</a>
                <a href="category-page.html">All Seating</a>
              </div>
            </div>
          </div>
        </li>
        <li class="menu__item">
          <h6>Living</h6> 
          <div class="dropdown">
            <div class="row">
              <div class="col-lg-2 dropdown__submenu">
                <h6>Shop by Category</h6>
                <a>Sectionals</a>
                <a>Sofas</a>
                <a>Loveseats</a>
                <a>Accent Chairs</a>
                <a>Sleepers</a>
                <a>Sleep Kits</a>
                <a>Ottomans</a>
                <a>Seating Accessories</a>
                <a>All Seating</a>
              </div>
              <div class="col-lg-2 dropdown__submenu">
                <h6>Tables, Carts & Benches</h6>
                <a>Coffee Tables</a>
                <a>Side Tables</a>
                <a>Bar Carts</a>
                <a>Benches</a>
                <a>All Tables & Carts</a>
              </div>
              <div class="col-lg-2 dropdown__submenu">
                <h6>Accessories</h6>
                <a>Seating Accessories</a>
                <a>Throw Pillows</a>
                <a>Throw Blankets</a>
                <a>Trays</a>
                <a>Lighting</a>
                <a>Clearance</a>
                <a>All Accessories</a>
              </div>
            </div>
          </div>
          
        </li>
        <li class="menu__item"><h6>Outdoor</h6></li>
        <li class="menu__item"><h6>Bedroom</h6></li>
        <li class="menu__item"><h6>Storage</h6></li>
      </ul>
      <div class="hamburger_menu">
        <a href="">
          <div class="hamburger_menu__line"></div>
          <div class="hamburger_menu__line"></div>
          <div class="hamburger_menu__line"></div>
        </a>
      </div>
    </nav>
  </header>

  <main>

    <section class="container">
      <div class="row product">
        <div id="product_category"class="col-lg-12 product__title">
          <h6>Nomad Collection</h6>
        </div>
        <div id="product_image" class="col-lg-8">
          <div class="product__gallery">
            <div class="product__gallery__item">
              <input type="radio" id="img-1" checked name="gallery" class="product__gallery__selector"/>
              <img class="product__gallery__img" src="assets/products/1/product.webp" alt=""/>
              <label for="img-1" class="product__gallery__thumb"><img src="assets/products/1/product.webp" alt=""/></label>
            </div>
            <div class="product__gallery__item">
              <input type="radio" id="img-2" name="gallery" class="product__gallery__selector"/>
              <img class="product__gallery__img" src="assets/products/2/product.webp" alt=""/>
              <label for="img-2" class="product__gallery__thumb"><img src="assets/products/2/product.webp" alt=""/></label>
            </div>
            <div class="product__gallery__item">
              <input type="radio" id="img-3" name="gallery" class="product__gallery__selector"/>
              <img class="product__gallery__img" src="assets/products/3/product.webp" alt=""/>
              <label for="img-3" class="product__gallery__thumb"><img src="assets/products/3/product.webp" alt=""/></label>
            </div>
            <div class="product__gallery__item">
              <input type="radio" id="img-4" name="gallery" class="product__gallery__selector"/>
              <img class="product__gallery__img" src="assets/products/4/product.webp" alt=""/>
              <label for="img-4" class="product__gallery__thumb"><img src="assets/products/4/product.webp" alt=""/></label>
            </div>
          </div>
        </div>
        <div id="product_details" class="col-lg-4 product_card">
          <div class="product_card__container--column">
            <h4>Block Nomad Sofa</h4>
            <h6>$1595+ Free Shipping</h6>
          </div>
          <div>
            <h6>Product Colors</h6>
            <div class="product_card__container">
              <div class="icon color_icon color_icon--blue"></div>
              <div class="icon color_icon color_icon--green"></div>
              <div class="icon color_icon color_icon--black"></div>
              <div class="icon color_icon color_icon--red"></div>
              <div class="icon color_icon color_icon--green"></div>
              <div class="icon color_icon color_icon--black"></div>
            </div>
            <div class="product_card__container">
              <div class="product_card__container--column">
                <h6>Arm Style</h6>
                <div class="product_card__container">
                  <svg height="40" width="20">
                    <rect x="0" y="0" height="40" width="20" rx="5" ry="5" fill="darkgray" stroke="gray" stroke-width="2px"/>
                  </svg>
                  <svg height="40" width="20">
                    <rect x="0" y="0" height="40" width="20" rx="25" ry="5" fill="darkgray" stroke="gray" stroke-width="2px"/>
                  </svg>
                </div>
              </div>
              <div class="product_card__container--column">
                <h6>Flip Back Cushions</h6>
                <div class="product_card__container">
                  <svg height="20" width="40">
                    <rect x="0" y="0" height="20" width="40" rx="5" ry="5" fill="darkgray" stroke="gray" stroke-width="2px"/>
                  </svg>
                  <svg height="20" width="40">
                    <rect x="0" y="0" height="20" width="40" fill="darkgray" stroke="gray" stroke-width="2px"/>
                  </svg>
                </div>
              </div>
            </div>
            <div class="product_card__container--column">
              <div class="checkbox"><input type="checkbox"><span class="text_smaller">Moveable chaise + $495</span></div>
              <div class="checkbox"><input type="checkbox"><span class="text_smaller">Ottoman + $345</span></div>
              <div class="checkbox"><input type="checkbox"><span class="text_smaller">Lumbar Pillows + $135</span></div>
              <div class="checkbox"><input type="checkbox"><span class="text_smaller">Sleep Kit + $295</span></div>
            </div> 
          </div>
          <div class="product_card__container--column">
            <button class="btn btn_warning">ADD TO CART</button>
          </div>
        </div>
      </div>
    </section>

    <section class="container">
      <div class="row dimensions_screen">
        <div class="col-lg-12 product__title">
          <h4>Product Dimensions</h4>
        </div>
        <div class="col-lg-6">
          <div class="dimensions_screen__table">
            <div class="dimensions_screen__table__cell">
              <span>General Dimensions</span>
              <span>86" L x 61" D x 33" H</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Seat Height</span>
              <span>17"</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Arm Height</span>
              <span>23"</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Chaise Lenght</span>
              <span>13"</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Seat Depth</span>
              <span>134"</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Chaise Seat Depth</span>
              <span>11"</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Leg Height</span>
              <span>7"</span>
            </div>
            <hr>
            <div class="dimensions_screen__table__cell">
              <span>Ottoman Dimensions</span>
              <span>26" L x 26" W x 17" H</span>
            </div>
            <hr>
          </div>
        </div>
        <div class="col-lg-6">
          <img src="assets/product-dimensions.png" alt="">
        </div>
      </div>
    </section>

    <section class="container">
      <div class="row about_screen">
        <div class="col-lg-12 product__title">
          <h4>About This Piece</h4>
        </div>
        <div id="product_description" class="row about_screen">
          <div class="col-lg-12">
            <p>The ideal three-seat sofa featuring one seat with a chaise lounge addition, one seat with an ottoman, and one seat for the chiropractor who loves to sit upright with their feet on the floor. Like everything we make, our modular design is incredibly easy to move and packed with all the clever, life-changing features you expect from Burrow, starting with a built-in USB charger.</p>
          </div>
          <div class="col-lg-5 container--column">
            <h6>Customizable</h4>
            <p class="text_smaller">Create your ideal sectional sofa with five fabric colors, six leg finishes, and three armrest heights. You can even swap the reversible back cushions: one side is tufted for a classic look, the other smooth and contemporary.</p>
          </div>
          <div class="col-lg-5 container--column">
            <h6>Adaptable</h4>
            <p class="text_smaller">Rest easy with the knowledge that your new furniture can grow and expand with your life, thanks to the universal, modular design of our Nomad Collection.</p>
          </div>
        </div> 
      </div>
    </section>

    <section class="container">
      <div class="row">
        <div class="col-lg-12 product__title">
          <h4>Key Features</h4>
        </div>
        <div class="col-lg-12 features_screen">
          <img src="assets/product-icon1.png" alt="">
          <img src="assets/product-icon2.png" alt="">
          <img src="assets/product-icon3.png" alt="">
          <img src="assets/product-icon4.png" alt="">
          <img src="assets/product-icon5.png" alt="">
        </div>
      </div>
    </section>

    <section class="container">
      <div class="row">
        <div class="col-lg-6">
          <video src="assets/product-video-1.mp4" autoplay loop></video>
        </div>
        <div class="col-lg-6 container--column">
          <h3>Durable enough for everyday drama</h3>
          <p>Each and every component of our furniture is selected for durability, from the galvanized steel latches to the precision-milled Baltic Birch frame. The fabric is inherently scratch-resistant, thanks to an incredibly tight weave, which makes it perfect for pets and their parents.</p>
          <div class="container--flex">
            <div class="container--column">
              <h6>Low carbon footprint</h6>
              <span class="text_small">Fabric made from upcycled materials</span>
            </div>
            <div class="container--column">
              <h6>Sustainable wood</h6>
              <span class="text_small">Sourced from responsibly managed forests</span>
            </div>
          </div> 
        </div>

        <div class="col-lg-6 container--column">
          <h3>Don't sweat the pills</h3>
          <p>Our olefin fabric is stain-resistant thanks to a deep dyeing process that colors each individual strand to the core, as opposed to other fibers that have little pores that absorb stains. You can even spray spills with a water and bleach solution (yes, we said bleach) and blot it out to clean stains.</p>
          <div class="container--flex">
            <div class="container--column">
              <h6>Non toxic</h6>
              <span class="text_small">Zero chemical additives or treatments</span>
            </div>
            <div class="">
              <h6>Zero PFCs</h6>
              <span class="text_small">Fabric free of dangerous formaldehydes</span>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <video src="assets/product-video-2.mp4" autoplay loop></video>
        </div>
      </div>
    </section>

    <section class="container">
      <div class="row">
        <div class="col-lg-12">
          <h4>Here's what else our designers recommend</h4>
        </div>
        <div class="row category__products">
          <div class="col-lg-4 card">
            <a href="product-page.html">
              <div class="card_header">
                <img class="rollover" src="assets/products/1/product-hover.webp"/>
                <img src="assets/products/1/product.webp"/>
              </div>
              <div class="card_label">
                <h6>Nomad Sofa</h6>
                <span>$1595 or as low as $100/mo</span>
              </div>
            </a>
          </div>
          <div class="col-lg-4 card">
            <a href="">
              <div class="card_header">
                <img class="rollover" src="assets/products/2/product-hover.webp"/>
                <img src="assets/products/2/product.webp"/>
              </div>
              <div class="card_label">
                <h6>Nomad Sofa</h6>
                <span>$1595 or as low as $100/mo</span>
              </div>
            </a>
          </div>
          <div class="col-lg-4 card">
            <a href="">
              <div class="card_header">
                <img class="rollover" src="assets/products/3/product-hover.webp"/>
                <img src="assets/products/3/product.webp"/>
              </div>
              <div class="card_label">
                <h6>Nomad Sofa</h6>
                <span>$1595 or as low as $100/mo</span>
              </div>
            </a>
          </div>
      </div>
    </section>

  </main>

  <footer>
    <div class="container--fluid">
      <div class="social_media bg_secondarydark">
        <form id="subscribeForm" class="subscription">
          <input class="bg_secondarydark" type="email" name="emailField" placeholder="Sign Up For Some Couch Reads" />
          <button type="submit" class="btn bg_secondary">SUBSCRIBE</button>
        </form>
        <div class="icons">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256" width="30px" height="30px" fill-rule="nonzero"><g fill-opacity="0" fill="#dddddd" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,256v-256h256v256z" id="bgRectangle"></path></g><g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M15,4c-4.186,0 -9.61914,1.04883 -9.61914,1.04883l-0.01367,0.01563c-1.90652,0.30491 -3.36719,1.94317 -3.36719,3.93555v6v0.00195v5.99805v0.00195c0.00384,1.96564 1.4353,3.63719 3.37695,3.94336l0.00391,0.00586c0,0 5.43314,1.05078 9.61914,1.05078c4.186,0 9.61914,-1.05078 9.61914,-1.05078l0.00195,-0.00195c1.94389,-0.30554 3.37683,-1.97951 3.37891,-3.94727v-0.00195v-5.99805v-0.00195v-6c-0.00288,-1.96638 -1.43457,-3.63903 -3.37695,-3.94531l-0.00391,-0.00586c0,0 -5.43314,-1.04883 -9.61914,-1.04883zM12,10.39844l8,4.60156l-8,4.60156z"></path></g></g></svg>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256" width="30px" height="30px" fill-rule="nonzero"><g fill-opacity="0" fill="#000000" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,256v-256h256v256z" id="bgRectangle"></path></g><g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M9.99805,3c-3.859,0 -6.99805,3.14195 -6.99805,7.00195v10c0,3.859 3.14195,6.99805 7.00195,6.99805h10c3.859,0 6.99805,-3.14195 6.99805,-7.00195v-10c0,-3.859 -3.14195,-6.99805 -7.00195,-6.99805zM22,7c0.552,0 1,0.448 1,1c0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1zM15,9c3.309,0 6,2.691 6,6c0,3.309 -2.691,6 -6,6c-3.309,0 -6,-2.691 -6,-6c0,-3.309 2.691,-6 6,-6zM15,11c-2.20914,0 -4,1.79086 -4,4c0,2.20914 1.79086,4 4,4c2.20914,0 4,-1.79086 4,-4c0,-2.20914 -1.79086,-4 -4,-4z"></path></g></g></svg>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,256,256" width="30px" height="30px" fill-rule="nonzero"><g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M15,3c-6.627,0 -12,5.373 -12,12c0,6.016 4.432,10.984 10.206,11.852v-8.672h-2.969v-3.154h2.969v-2.099c0,-3.475 1.693,-5 4.581,-5c1.383,0 2.115,0.103 2.461,0.149v2.753h-1.97c-1.226,0 -1.654,1.163 -1.654,2.473v1.724h3.593l-0.487,3.154h-3.106v8.697c5.857,-0.794 10.376,-5.802 10.376,-11.877c0,-6.627 -5.373,-12 -12,-12z"></path></g></g></svg>
        </div>
      </div>
      <div class="container--fluid bg_primarydark">
        <div class="row footer_menu">
          <div class="col-lg-3 footer_menu__submenu">
            <h6>Shopping Services</h6> 
            <a>Schedule Consultation</a>  
            <a>Showrooms </a>
            <a>Trade Program</a> 
            <a>Outlet</a>
          </div>
          <div class="col-lg-3 footer_menu__submenu">
            <h6>About</h6> 
            <a>Our Story</a>  
            <a>Reviews</a>
            <a>Careers</a> 
            <a>Financing</a>
            <a>Patents</a>
            <a>Our Blog</a>
          </div>
          <div class="col-lg-3 footer_menu__submenu">
            <h6>Resources</h6> 
            <a>Look Up Order Status</a>  
            <a>Assembly Instructions</a>
            <a>Returns</a> 
            <a>Shipping & Delivery</a>
            <a>FAQ</a>
            <a>Refer a Friend</a>
          </div>
          <div class="col-lg-3 footer_menu__submenu">
            <h6>Contact Customer Experience</h6> 
            <a>Email: support@template.com</a>  
            <a>Text: 224-628-7769</a>
            <a>Hours:</a> 
            <a>Monday to Friday - 10a to 8p EST</a>
            <a>Saturday to SundaY - 10a to 2p EST</a>
          </div>
        </div>
        <div class="row footer_info">
          <div class="col-lg-3 footer_info__item">
            <span id="copyrights">© 2023 Template</span>  
            <a>Terms - Accessibility - Sitemap - Privacy</a>
          </div>
          <div class="col-lg-6"></div>
          <div class="col-lg-3 footer_info__item">
            <span>15 W 27th Street, 9th Floor New York, NY, 10001</span>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script type="text/javascript" src="./reusables.js"></script>
  <script>

    // Product ID

    removeDefaultPageContent = () => {
      const defaultSections = Array.from(document.getElementsByTagName("section"));
      defaultSections.forEach(element => {
        element.remove();
      });
    }
    removeDefaultPageContent();

    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const productId = urlParams.get("produtoID");

    fetch(`https://fakestoreapi.com/products/${productId}`)
      .then((response) => response.json())
      .then((data) => data);   
  
    getProduct = async() => {
      const response = await fetch(`https://fakestoreapi.com/products/${productId}`);
      const data = await response.json();

      const main = document.getElementsByTagName("main")
      const newSection = document.createElement("section");
      newSection.setAttribute("class", "container")
      newSection.setAttribute("style", "position:relative; top: 0;")
      newSection.innerHTML = 
        `<div class="row product">
        <div class="col-lg-12 product__title">
          <h2>${data.category}</h2>
        </div>
        <div class="col-lg-8">
          <img id="product_image" src=${data.image} alt="product image">
        </div>
        <div class="col-lg-4 product_card">
          <div>
            <h4>${data.title}</h4>
            <h5>${data.price} €</h5>
            <span>Rating: ${data.rating.rate}</span>
          </div>
          <div>
            <p>${data.description}</p>
          </div>
          <div class="product_card__container--column">
            <div id="quantity_container">
              <button class="btn" onclick="addQuantity(-1)">-</button>
              <span id="product_quantity">${productQuantity}</span>
              <button class="btn" onclick="addQuantity(1)">+</button>
            </div>
            <button id="cart_button" class="btn btn_warning" onclick="addToCart()">ADD TO CART</button>
          </div>
        </div>
      </div>`;
      main[0].append(newSection);   
    }


    // Related Products

    fetch(`https://fakestoreapi.com/products`)
      .then((response) => response.json())
      .then((data) => data);

    getRelatedProducts = async () => {
      const response = await fetch(`https://fakestoreapi.com/products`);
      const data = await response.json();
      const relatedProducts = [];

      data.forEach((element) => {
        if (relatedProducts.length < 3 == true && element.category === data[productId - 1].category && element.id != productId) {
          relatedProducts.push(element);
        }
      });

      const main = document.getElementsByTagName("main");
      const newSection = document.createElement("section");
      newSection.setAttribute("class", "container--fluid bg_secondary");
      newSection.innerHTML = 
        `<div id="related_products" class="row">
          <div class="col-lg-12">
            <h2>Related Products</h2>
          </div> 
        </div>`;
      main[0].append(newSection);

      relatedProducts.forEach((element) => {
        const relatedProduct = document.getElementById("related_products");
        const newDiv = document.createElement("div");
        newDiv.innerHTML =
          `<a href="product-page.html?produtoID=${element.id}">
            <div class="card_header">
                <img src="${element.image}" alt="${element.title} image"/>
              </div>
              <div class="card_label">
                <h6>${element.title}</h6>
              </div>
          </a>`;
        newDiv.setAttribute("class", "col-lg-3 card");
        relatedProduct.insertAdjacentElement("beforeend", newDiv);
      })

    }

    getProduct().then(getRelatedProducts);

    // Add to Cart

    let productQuantity = 1;

    addQuantity = (x) => {
      productQuantity = productQuantity + x;
      if (productQuantity < 1) {productQuantity = 1}  
      const quantitySpan = document.getElementById("product_quantity");
      quantitySpan.innerHTML = productQuantity
      productToAdd.products[0].quantity = productQuantity;
    };

    let cartAdditionDate =  new Date().toLocaleDateString('en-CA');

    const productToAdd = {
        userId: 27,
        date: `${cartAdditionDate}`,
        products: [{productId: parseInt(productId), quantity: productQuantity}]
      }

    addToCart = () => {
      const cartRequest = new XMLHttpRequest();
      cartRequest.open("PUT", "https://fakestoreapi.com/carts/7");
      cartRequest.send(productToAdd);

      cartRequest.onload = () => {
        console.log("request sent");
        console.log(productToAdd)
      };
    }
    
    
  </script>

</body>
</html>